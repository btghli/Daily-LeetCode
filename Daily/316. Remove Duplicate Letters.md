###### Medium
### 316. Remove Duplicate Letters

Given a string s, remove duplicate letters so that every letter appears once and only once. You must make sure your result is **the smallest in lexicographical order** 
among all possible results.

**Note:** This question is the same as 1081: https://leetcode.com/problems/smallest-subsequence-of-distinct-characters/

##### Example 1:
```
Input: s = "bcabc"
Output: "abc"
```

##### Example 2:
```
Input: s = "cbacdcbc"
Output: "acdb"
```

Constraints:
* 1 <= s.length <= 10^4
* s consists of lowercase English letters.
***
```java
class Solution {
    public String removeDuplicateLetters(String s) {
        int[] res = new int[26]; // record each characters in s
        boolean[] visited = new boolean[26]; // record if the character is visited in stringbuilder
        for (int i = 0; i < s.length(); i ++) {
            char c = s.charAt(i);
            res[c - 'a'] ++;
        }
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < s.length(); i ++) {
            res[s.charAt(i) - 'a'] --;
            if (visited[s.charAt(i) - 'a']) { // skip if current char is already in the sb
                continue;
            }
            // if current char's lexicographical order is smaller than the last char in the sb
            // we put its visited status to false and revisited it later 
            while (sb.length() > 0 && s.charAt(i) < sb.charAt(sb.length() - 1) && res[sb.charAt(sb.length() - 1) - 'a'] != 0) {
                visited[sb.charAt(sb.length() - 1) - 'a'] = false;
                sb.deleteCharAt(sb.length() - 1);
            }
            sb.append(s.charAt(i)); // adding current char and mark it as visited
            visited[s.charAt(i) - 'a'] = true;
        }
        return sb.toString();
    }
}
```
